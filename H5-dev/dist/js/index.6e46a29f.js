(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["index"],{9261:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-app",[n("nav-menu",{ref:"navMenu",attrs:{menuList:t.menuList,username:t.username}}),n("v-toolbar",{attrs:{app:""}},[n("v-toolbar-side-icon",{on:{click:function(e){return e.stopPropagation(),t.hideDrawer(e)}}}),n("v-toolbar-title",[t._v(t._s(t.$route.meta.title))]),n("v-spacer"),n("v-toolbar-items",{staticClass:"hidden-sm-and-down"},[n("v-btn",{attrs:{flat:""},on:{click:function(e){t.resetPsdModal=!0}}},[t._v("修改密码")]),n("v-btn",{attrs:{flat:""},on:{click:function(e){t.logoutModal=!0}}},[t._v("退出登录")])],1)],1),n("v-content",[n("v-container",{attrs:{fluid:""}},[n("v-slide-y-transition",{attrs:{mode:"out-in"}},[n("router-view")],1)],1)],1),n("v-dialog",{attrs:{persistent:"","max-width":"400"},model:{value:t.logoutModal,callback:function(e){t.logoutModal=e},expression:"logoutModal"}},[n("v-card",[n("v-card-title",{staticClass:"headline"},[t._v("提示")]),n("v-card-text",[t._v("确认退出登录？")]),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"green darken-1",flat:""},on:{click:function(e){t.logoutModal=!1}}},[t._v("取消")]),n("v-btn",{attrs:{color:"green darken-1",flat:""},on:{click:t.logout}},[t._v("确认")])],1)],1)],1),n("v-dialog",{attrs:{persistent:"","max-width":"400"},model:{value:t.resetPsdModal,callback:function(e){t.resetPsdModal=e},expression:"resetPsdModal"}},[n("v-card",[n("v-card-title",{staticClass:"headline"},[t._v("修改密码")]),n("v-card-text",[n("v-form",{ref:"form",model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[n("v-text-field",{attrs:{rules:t.oriPsdErrors,label:"原密码",type:"password",required:""},model:{value:t.form.oriPsd,callback:function(e){t.$set(t.form,"oriPsd",e)},expression:"form.oriPsd"}}),n("v-text-field",{attrs:{rules:t.newPsdErrors,label:"新密码",type:"password",required:""},model:{value:t.form.newPsd,callback:function(e){t.$set(t.form,"newPsd",e)},expression:"form.newPsd"}}),n("v-text-field",{attrs:{rules:t.conPsdErrors,label:"再次确认",type:"password",required:""},model:{value:t.form.conPsd,callback:function(e){t.$set(t.form,"conPsd",e)},expression:"form.conPsd"}})],1)],1),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"green darken-1",flat:""},on:{click:t.clear}},[t._v("取消")]),n("v-btn",{attrs:{color:"green darken-1",flat:""},on:{click:t.submit}},[t._v("确认")])],1)],1)],1)],1)},i=[],r=(n("dc12"),n("a700")),o=n.n(r),s=(n("4694"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-navigation-drawer",{attrs:{"mini-variant":t.mini,dark:"",fixed:"",app:""},on:{"update:miniVariant":function(e){t.mini=e},"update:mini-variant":function(e){t.mini=e}},model:{value:t.drawer,callback:function(e){t.drawer=e},expression:"drawer"}},[n("v-list",{staticClass:"pa-1"},[t.mini?n("v-list-tile",{on:{click:function(e){e.stopPropagation(),t.mini=!t.mini}}},[n("v-list-tile-action",[n("v-icon",[t._v("chevron_right")])],1)],1):t._e(),n("v-list-tile",{attrs:{avatar:"",tag:"div"}},[n("v-list-tile-avatar",[n("img",{attrs:{src:"https://i.loli.net/2017/08/21/599a521472424.jpg"}})]),n("v-list-tile-content",[n("v-list-tile-title",[t._v(t._s(t.username))])],1),n("v-list-tile-action",[n("v-btn",{attrs:{icon:""},on:{click:function(e){e.stopPropagation(),t.mini=!t.mini}}},[n("v-icon",[t._v("chevron_left")])],1)],1)],1)],1),n("v-list",{staticClass:"pt-0",attrs:{dense:""}},[n("v-divider",{attrs:{light:""}}),t._l(t.menuList,function(e){return[e.children&&e.children.length>0?n("v-list-group",{key:e.id,attrs:{"prepend-icon":e.icon,value:e.children.some(function(e){return e.name===t.$route.name})}},[n("v-list-tile",{attrs:{slot:"activator"},slot:"activator"},[n("v-list-tile-title",{attrs:{ripple:""}},[t._v(t._s(e.label))])],1),t._l(e.children,function(e){return n("v-list-tile",{key:e.id,attrs:{to:e.url,ripple:""}},[n("v-list-tile-action",[t.mini?n("div",{attrs:{title:e.label,small:""}},[t._v(t._s(e.label[0]))]):t._e()]),n("v-list-tile-content",[n("v-list-tile-title",{attrs:{title:e.label,ripple:""}},[t._v(t._s(e.label))])],1)],1)})],2):n("v-list-tile",{key:e.id,attrs:{to:e.url,title:e.label,ripple:""}},[n("v-list-tile-action",[n("v-icon",[t._v(t._s(e.icon))])],1),n("v-list-tile-content",[n("v-list-tile-title",[t._v(t._s(e.label))])],1)],1)]})],2)],1)}),l=[],c=(n("9dce"),n("d6e8"),n("b709"),n("e9fc"),{name:"nav-menu",data:function(){return{drawer:null,mini:!1}},props:{menuList:{type:Array,default:function(){return[]}},username:{type:String,default:""}}}),d=c,u=n("fc05"),v=n("6570"),f=n.n(v),m=n("f5a3"),p=n("1085"),b=n("8701"),_=n("1777"),h=n("30d7"),g=n("cadc"),w=n("a678"),P=n("0493"),V=n("d543"),k=n("a83f"),x=Object(u["a"])(d,s,l,!1,null,null,null),$=x.exports;f()(x,{VBtn:m["a"],VDivider:p["a"],VIcon:b["a"],VList:_["a"],VListGroup:h["a"],VListTile:g["a"],VListTileAction:w["a"],VListTileAvatar:P["a"],VListTileContent:V["a"],VListTileTitle:V["b"],VNavigationDrawer:k["a"]});var C=n("f8c8"),M={name:"index",components:{"nav-menu":$},data:function(){var t=this;return{menuList:[],username:"",logoutModal:!1,resetPsdModal:!1,form:{oriPsd:"",newPsd:"",conPsd:""},valid:!1,oriPsdErrors:[function(t){return!!t||"请输入原密码"}],newPsdErrors:[function(t){return!!t||"请输入新密码"},function(e){return e!==t.form.oriPsd||"请输入不同于原密码的新密码"}],conPsdErrors:[function(t){return!!t||"请输入新密码"},function(e){return e===t.form.newPsd||"两次输入密码不一致"}]}},methods:{hideDrawer:function(){this.$refs.navMenu.drawer=!this.$refs.navMenu.drawer},logout:function(){var t=this;this.$store.dispatch("userLogout").then(function(){t.$router.replace("login")})},clear:function(){this.resetPsdModal=!1,this.$refs.form.reset(),this.$refs.form.resetValidation()},submit:function(){var t=this;if(!this.$refs.form.validate())return!1;C["a"].updatePassord().then(function(e){e.resultCode,e.result;var n=e.msg;t.$toast(n),t.resetPsdModal=!1,t.clear()})}},mounted:function(){var t=this;return new o.a(function(e,n){C["a"].userInfo().then(function(n){n.resultCode;var a=n.result;n.msg;t.$store.dispatch("saveUserInfo",a),e(a)}).catch(function(t){n(t)})}).then(function(e){t.username=e.name,t.menuList=e.menu}).catch(function(){t.$toast("验证用户信息失败，请重新登录"),setTimeout(function(){t.$store.dispatch("userLogout").then(function(){t.$router.replace("login")})},3e3)})}},T=M,L=n("e979"),y=n("65bf"),E=n("5632"),j=n("1e82"),O=n("637d"),A=n("0655"),D=n("e3a0"),I=n("b5e7"),S=n("d4c1"),q=n("5546"),B=n("9c14"),F=n("975d"),J=n("07b3"),G=n("f86c"),N=n("0009"),U=n("14d2"),Y=U["a"].extend({name:"v-toolbar-side-icon",functional:!0,render:function(t,e){var n=e.slots,a=e.listeners,i=e.props,r=e.data,o=r.staticClass?r.staticClass+" v-toolbar__side-icon":"v-toolbar__side-icon",s=Object.assign(r,{staticClass:o,props:Object.assign(i,{icon:!0}),on:a}),l=n().default;return t(G["a"],s,l||[t(N["a"],"$vuetify.icons.menu")])}}),z=Object(J["e"])("v-toolbar__title"),H=Object(J["e"])("v-toolbar__items"),K=(F["a"],Object(u["a"])(T,a,i,!1,null,null,null));e["default"]=K.exports;f()(K,{VApp:L["a"],VBtn:m["a"],VCard:y["a"],VCardActions:E["a"],VCardText:E["b"],VCardTitle:j["a"],VContainer:O["a"],VContent:A["a"],VDialog:D["a"],VForm:I["a"],VSlideYTransition:S["d"],VSpacer:q["a"],VTextField:B["a"],VToolbar:F["a"],VToolbarItems:H,VToolbarSideIcon:Y,VToolbarTitle:z})}}]);
//# sourceMappingURL=index.6e46a29f.js.map